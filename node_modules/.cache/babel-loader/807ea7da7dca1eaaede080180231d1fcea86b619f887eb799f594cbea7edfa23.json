{"ast":null,"code":"import React,{useState}from'react';import{supabase}from'../lib/supabase';import{LogIn,UserPlus,Loader2,CheckCircle}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const AuthForm=_ref=>{let{onAuthSuccess}=_ref;const[isLogin,setIsLogin]=useState(true);const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[showSuccess,setShowSuccess]=useState(false);const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');setShowSuccess(false);try{if(isLogin){const{error}=await supabase.auth.signInWithPassword({email,password});if(error)throw error;onAuthSuccess();}else{const{error}=await supabase.auth.signUp({email,password});if(error)throw error;// Показываем уведомление об успешной регистрации\nsetShowSuccess(true);setEmail('');setPassword('');// Автоматически переключаемся на форму входа через 3 секунды\nsetTimeout(()=>{setIsLogin(true);setShowSuccess(false);},3000);}}catch(error){setError(error instanceof Error?error.message:'An error occurred');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-md mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-900/60 backdrop-blur-xl border border-gray-800 rounded-3xl p-8 shadow-2xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-3 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent font-fira\",children:isLogin?'Добро пожаловать':'Создать аккаунт'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 font-fira text-sm\",children:isLogin?'Войдите в свой аккаунт':'Зарегистрируйтесь для начала работы'})]}),showSuccess&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-green-500/10 border border-green-500/30 rounded-2xl backdrop-blur-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 text-green-400\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-green-300 font-fira text-sm\",children:\"\\u0410\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442 \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-400 font-fira\",children:\"\\u0422\\u0435\\u043F\\u0435\\u0440\\u044C \\u0432\\u044B \\u043C\\u043E\\u0436\\u0435\\u0442\\u0435 \\u0432\\u043E\\u0439\\u0442\\u0438 \\u0432 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0443.\"})]})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium mb-3 text-gray-300 font-fira\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value),className:\"w-full bg-gray-800/50 border border-gray-700 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 font-fira text-sm\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448 email\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium mb-3 text-gray-300 font-fira\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),className:\"w-full bg-gray-800/50 border border-gray-700 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 font-fira text-sm\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",required:true})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-sm bg-red-500/10 border border-red-500/20 rounded-xl p-4 backdrop-blur-sm font-fira\",children:error}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:loading,className:\"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold py-3 rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2 shadow-lg font-fira text-sm\",children:[loading?/*#__PURE__*/_jsx(Loader2,{className:\"w-5 h-5 animate-spin\"}):isLogin?/*#__PURE__*/_jsx(LogIn,{className:\"w-5 h-5\"}):/*#__PURE__*/_jsx(UserPlus,{className:\"w-5 h-5\"}),loading?'Загрузка...':isLogin?'Войти':'Зарегистрироваться']})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setIsLogin(!isLogin);setError('');setShowSuccess(false);},className:\"text-gray-400 hover:text-white transition-colors duration-300 text-sm font-fira\",children:isLogin?\"Нет аккаунта? Зарегистрироваться\":'Уже есть аккаунт? Войти'})})]})});};","map":{"version":3,"names":["React","useState","supabase","LogIn","UserPlus","Loader2","CheckCircle","jsx","_jsx","jsxs","_jsxs","AuthForm","_ref","onAuthSuccess","isLogin","setIsLogin","email","setEmail","password","setPassword","loading","setLoading","error","setError","showSuccess","setShowSuccess","handleSubmit","e","preventDefault","auth","signInWithPassword","signUp","setTimeout","Error","message","className","children","onSubmit","htmlFor","id","type","value","onChange","target","placeholder","required","disabled","onClick"],"sources":["/Users/lenavasilev/Desktop/n8n_assistant_v01/src/components/AuthForm.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { supabase } from '../lib/supabase'\nimport { LogIn, UserPlus, Loader2, CheckCircle } from 'lucide-react'\n\ninterface AuthFormProps {\n  onAuthSuccess: () => void\n}\n\nexport const AuthForm: React.FC<AuthFormProps> = ({ onAuthSuccess }) => {\n  const [isLogin, setIsLogin] = useState(true)\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState('')\n  const [showSuccess, setShowSuccess] = useState(false)\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setLoading(true)\n    setError('')\n    setShowSuccess(false)\n\n    try {\n      if (isLogin) {\n        const { error } = await supabase.auth.signInWithPassword({\n          email,\n          password,\n        })\n        if (error) throw error\n        onAuthSuccess()\n      } else {\n        const { error } = await supabase.auth.signUp({\n          email,\n          password,\n        })\n        if (error) throw error\n        \n        // Показываем уведомление об успешной регистрации\n        setShowSuccess(true)\n        setEmail('')\n        setPassword('')\n        \n        // Автоматически переключаемся на форму входа через 3 секунды\n        setTimeout(() => {\n          setIsLogin(true)\n          setShowSuccess(false)\n        }, 3000)\n      }\n    } catch (error) {\n      setError(error instanceof Error ? error.message : 'An error occurred')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"w-full max-w-md mx-auto\">\n      <div className=\"bg-gray-900/60 backdrop-blur-xl border border-gray-800 rounded-3xl p-8 shadow-2xl\">\n        <div className=\"text-center mb-8\">\n          <h2 className=\"text-2xl font-bold mb-3 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent font-fira\">\n            {isLogin ? 'Добро пожаловать' : 'Создать аккаунт'}\n          </h2>\n          <p className=\"text-gray-400 font-fira text-sm\">\n            {isLogin ? 'Войдите в свой аккаунт' : 'Зарегистрируйтесь для начала работы'}\n          </p>\n        </div>\n\n        {showSuccess && (\n          <div className=\"mb-6 p-4 bg-green-500/10 border border-green-500/30 rounded-2xl backdrop-blur-sm\">\n            <div className=\"flex items-center gap-3 text-green-400\">\n              <CheckCircle className=\"w-5 h-5\" />\n              <div>\n                <p className=\"font-medium text-green-300 font-fira text-sm\">Аккаунт создан успешно!</p>\n                <p className=\"text-sm text-green-400 font-fira\">Теперь вы можете войти в систему.</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div>\n            <label htmlFor=\"email\" className=\"block text-sm font-medium mb-3 text-gray-300 font-fira\">\n              Email\n            </label>\n            <input\n              id=\"email\"\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              className=\"w-full bg-gray-800/50 border border-gray-700 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 font-fira text-sm\"\n              placeholder=\"Введите ваш email\"\n              required\n            />\n          </div>\n\n          <div>\n            <label htmlFor=\"password\" className=\"block text-sm font-medium mb-3 text-gray-300 font-fira\">\n              Пароль\n            </label>\n            <input\n              id=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              className=\"w-full bg-gray-800/50 border border-gray-700 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 font-fira text-sm\"\n              placeholder=\"Введите ваш пароль\"\n              required\n            />\n          </div>\n\n          {error && (\n            <div className=\"text-red-400 text-sm bg-red-500/10 border border-red-500/20 rounded-xl p-4 backdrop-blur-sm font-fira\">\n              {error}\n            </div>\n          )}\n\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold py-3 rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2 shadow-lg font-fira text-sm\"\n          >\n            {loading ? (\n              <Loader2 className=\"w-5 h-5 animate-spin\" />\n            ) : isLogin ? (\n              <LogIn className=\"w-5 h-5\" />\n            ) : (\n              <UserPlus className=\"w-5 h-5\" />\n            )}\n            {loading ? 'Загрузка...' : isLogin ? 'Войти' : 'Зарегистрироваться'}\n          </button>\n        </form>\n\n        <div className=\"mt-8 text-center\">\n          <button\n            onClick={() => {\n              setIsLogin(!isLogin)\n              setError('')\n              setShowSuccess(false)\n            }}\n            className=\"text-gray-400 hover:text-white transition-colors duration-300 text-sm font-fira\"\n          >\n            {isLogin ? \"Нет аккаунта? Зарегистрироваться\" : 'Уже есть аккаунт? Войти'}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}